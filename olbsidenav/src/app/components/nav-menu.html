<div class="banner-menu-wrapper">
  <button class="scroll-btn left" (click)="scrollBannerMenu(-1)" [class.hidden]="!canScrollLeft()" aria-label="Nach links scrollen">
    <mat-icon>chevron_left</mat-icon>
  </button>
  <div class="banner-menu-viewport" #bannerMenuViewport (scroll)="onBannerMenuScroll()">
    <div class="banner-menu">
      @for (item of menu(); track item.label) {
        @if (isItem(item)) {
          @if (!item.children?.length) {
            <button class="banner-item" 
                    [class.active]="isActive(item)" 
                    (click)="item.externalUrl ? openExternal(item) : navigateTo(item.route)">
              <mat-icon>{{ item.icon }}</mat-icon>
              <span>{{ item.label }}</span>
              @if (item.badge) {
                <span class="badge" [class]="'badge ' + (item.badgeVariant || 'neutral')">{{ item.badge }}</span>
              }
            </button>
          } @else {
            <button class="banner-item" 
                    [class.active]="isActive(item)" 
                    [class.ancestor-active]="isAncestorActive(item)"
                    [matMenuTriggerFor]="menuRef">
              <mat-icon>{{ item.icon }}</mat-icon>
              <span>{{ item.label }}</span>
              @if (item.badge) {
                <span class="badge" [class]="'badge ' + (item.badgeVariant || 'neutral')">{{ item.badge }}</span>
              }
              <mat-icon>expand_more</mat-icon>
            </button>
            <mat-menu #menuRef="matMenu">
              <nav-menu-child-item [items]="item.children"></nav-menu-child-item>
            </mat-menu>
          }
        }
      }
    </div>
  </div>
  <button class="scroll-btn right" (click)="scrollBannerMenu(1)" [class.hidden]="!canScrollRight()" aria-label="Nach rechts scrollen">
    <mat-icon>chevron_right</mat-icon>
  </button>
</div>


